<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
        
<mapper namespace="com.java.TrainningJV.mappers.mapperCustom.OrderDetailMapperCustom">
    <resultMap id="orderDetailResultMap" type="com.java.TrainningJV.models.OrderDetails">
        <id column="id" jdbcType="INTEGER" property="id"/>
        <result column="order_id" jdbcType="INTEGER" property="orderId"/>
        <result column="product_id" jdbcType="INTEGER" property="productId"/>
        <result column="price" jdbcType="DOUBLE" property="price"/>
        <result column="number_of_products" jdbcType="INTEGER" property="numberOfProducts"/>
        <result column="total_money" jdbcType="DOUBLE" property="totalMoney"/>
        <result column="color" jdbcType="VARCHAR" property="color"/>
    </resultMap>

    <!-- Lấy tất cả order details theo orderId -->
    <select id="selectAllOrderDetailsByOrderId" parameterType="java.lang.Integer" resultMap="orderDetailResultMap">
        SELECT 
        id
        , order_id
        , product_id
        , price
        , number_of_products
        , total_money
        , color

        FROM order_details

        WHERE order_id = #{orderId}
    </select>

    <!-- Lấy tất cả order details -->
    <select id="selectAllOrderDetails" resultMap="orderDetailResultMap">
        SELECT
        id
        , order_id
        , product_id
        , price
        , number_of_products
        , total_money
        , color

        FROM order_details
    </select>
</mapper>